<section title="法庭调解" class="conciliation">
  <div class="access">
    <i class="el-icon-edit-outline"></i>
    <em>法庭调解</em>
    <div class="tools">
      <el-dropdown>
        <el-button type="primary" size="small">
          操作<i class="el-icon-arrow-down el-icon--right"></i>
        </el-button>
        <el-dropdown-menu slot="dropdown">
          <el-dropdown-item>
            <i class="fa fa-gavel">&nbsp;休庭</i>
          </el-dropdown-item>
        </el-dropdown-menu>
      </el-dropdown>
    </div>
  </div>
  <div class="content">
    <!-- 全部到庭 -->
    <div v-if="!(((!trial.verification.other.defendantPartFlag && trial.verification.other.thirdPartFlag) || (trial.verification.other.defendantPartFlag && !trial.verification.other.thirdPartFlag)) || !trial.verification.other.attendanceFlag || trial.verification.other.defendantFlag || trial.verification.other.thirdFlag)">
      <p>审：法庭辩论终结，应当依法作出判决，判决前能够调解的可以进行调解，各方是否申请由法庭主持调解？</p>
      <div title="原告" v-for="(accuser, accuserIndex) in trial.verification.participator.accusers" :key="accuserIndex + 'accuser1'">
        <div title="诉讼主体" v-for="(subject, subjectIndex) in accuser.subjects" :key="subjectIndex">
          <p>
            原{{subject.ordinal}}：
            <el-select v-model="subject.conciliation.status" class="width-25" @change="toMediate()">
              <el-option v-for="option in options.conciliation" :key="option" :label="option" :value="option">
              </el-option>
            </el-select>，
          </p>
          <p v-if="subject.conciliation.status === '不同意'">
            <el-input v-model="subject.conciliation.content" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告申请调解的理由" class="width-100"></el-input>
          </p>
        </div>
        <div title="责任人" v-for="(responsible, responsibleIndex) in accuser.responsibles" :key="responsibleIndex">
          <p>
            原：
            <el-select v-model="responsible.conciliation.status" class="width-25" @change="toMediate()">
              <el-option v-for="option in options.conciliation" :key="option" :label="option" :value="option">
              </el-option>
            </el-select>，
          </p>
          <p v-if="responsible.conciliation.status === '不同意'">
            <el-input v-model="responsible.conciliation.content" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告申请调解的理由" class="width-100"></el-input>
          </p>
        </div>
        <div title="代理人" v-for="(agent, agentIndex) in accuser.agents" :key="agentIndex">
          <p>
            原代<span v-if="accuser.agents.length > 1">{{agentIndex+1}}</span>：
            <el-select v-model="agent.conciliation.status" class="width-25" @change="toMediate()">
              <el-option v-for="option in options.conciliation" :key="option" :label="option" :value="option">
              </el-option>
            </el-select>，
          </p>
          <p v-if="agent.conciliation.status === '不同意'">
            <el-input v-model="agent.conciliation.content" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告申请调解的理由" class="width-100"></el-input>
          </p>
        </div>
      </div>
      <p>审：被告是否愿意调解？</p>
      <div title="被告" v-for="(accused, accusedIndex) in trial.verification.participator.accuseds" :key="accusedIndex + 'accused1'">
        <div title="诉讼主体" v-for="(subject, subjectIndex) in accused.subjects" :key="subjectIndex">
          <p>
            被{{subject.ordinal}}：
            <el-select v-model="subject.conciliation.status" class="width-25" @change="toMediate()">
              <el-option v-for="option in options.conciliation" :key="option" :label="option" :value="option">
              </el-option>
            </el-select>，
          </p>
          <p v-if="subject.conciliation.status === '不同意'">
            <el-input v-model="subject.conciliation.content" type="textarea" :autosize="{minRows: 2}" placeholder="请输入被告申请调解的理由" class="width-100"></el-input>
          </p>
        </div>
        <div title="责任人" v-for="(responsible, responsibleIndex) in accused.responsibles" :key="responsibleIndex">
          <p>
            被：
            <el-select v-model="responsible.conciliation.status" class="width-25" @change="toMediate()">
              <el-option v-for="option in options.conciliation" :key="option" :label="option" :value="option">
              </el-option>
            </el-select>，
          </p>
          <p v-if="responsible.conciliation.status === '不同意'">
            <el-input v-model="responsible.conciliation.content" type="textarea" :autosize="{minRows: 2}" placeholder="请输入被告申请调解的理由" class="width-100"></el-input>
          </p>
        </div>
        <div title="代理人" v-for="(agent, agentIndex) in accused.agents" :key="agentIndex">
          <p>
            被代<span v-if="accused.agents.length > 1">{{agentIndex+1}}</span>：
            <el-select v-model="agent.conciliation.status" class="width-25" @change="toMediate()">
              <el-option v-for="option in options.conciliation" :key="option" :label="option" :value="option">
              </el-option>
            </el-select>，
          </p>
          <p v-if="agent.conciliation.status === '不同意'">
            <el-input v-model="agent.conciliation.content" type="textarea" :autosize="{minRows: 2}" placeholder="请输入被告申请调解的理由" class="width-100"></el-input>
          </p>
        </div>
      </div>
      <p>审：第三人是否愿意参加调解？</p>
      <div title="第三人" v-for="(thirdparty, thirdpartyIndex) in trial.verification.participator.thirdparties" :key="thirdpartyIndex + 'thirdparty1'">
        <div title="诉讼主体" v-for="(subject, subjectIndex) in thirdparty.subjects" :key="subjectIndex">
          <p>
            第{{subject.ordinal}}：
            <el-select v-model="subject.conciliation.status" class="width-25" @change="toMediate()">
              <el-option v-for="option in options.conciliation" :key="option" :label="option" :value="option">
              </el-option>
            </el-select>，
          </p>
          <p v-if="subject.conciliation.status === '不同意'">
            <el-input v-model="subject.conciliation.content" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告申请调解的理由" class="width-100"></el-input>
          </p>
        </div>
        <div title="责任人" v-for="(responsible, responsibleIndex) in thirdparty.responsibles" :key="responsibleIndex">
          <p>
            第：
            <el-select v-model="responsible.conciliation.status" class="width-25" @change="toMediate()">
              <el-option v-for="option in options.conciliation" :key="option" :label="option" :value="option">
              </el-option>
            </el-select>，
          </p>
          <p v-if="responsible.conciliation.status === '不同意'">
            <el-input v-model="responsible.conciliation.content" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告申请调解的理由" class="width-100"></el-input>
          </p>
        </div>
        <div title="代理人" v-for="(agent, agentIndex) in thirdparty.agents" :key="agentIndex">
          <p>
            第代<span v-if="thirdparty.agents.length > 1">{{agentIndex+1}}</span>：
            <el-select v-model="agent.conciliation.status" class="width-25" @change="toMediate()">
              <el-option v-for="option in options.conciliation" :key="option" :label="option" :value="option">
              </el-option>
            </el-select>，
          </p>
          <p v-if="agent.conciliation.status === '不同意'">
            <el-input v-model="agent.conciliation.content" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告申请调解的理由" class="width-100"></el-input>
          </p>
        </div>
      </div>
      <!-- 各方均同意调解时显示 -->
      <div v-if="trial.conciliation.status">
        <p>审：鉴于各方当事人均同意调解，休庭后由法庭组织各方当事人进行调解，也可以自行调解。</p>
        <div title="原告" v-for="(accuser, accuserIndex) in trial.verification.participator.accusers" :key="accuserIndex + 'accuser2'">
          <div title="诉讼主体" v-for="(subject, subjectIndex) in accuser.subjects" :key="subjectIndex">
            <p>
              原{{subject.ordinal}}：
              <el-input v-model="subject.conciliation.standpoint" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告调解内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="责任人" v-for="(responsible, responsibleIndex) in accuser.responsibles" :key="responsibleIndex">
            <p>
              原：
              <el-input v-model="responsible.conciliation.standpoint" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告调解内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="代理人" v-for="(agent, agentIndex) in accuser.agents" :key="agentIndex">
            <p>
              原代<span v-if="accuser.agents.length > 1">{{agentIndex+1}}</span>：
              <el-input v-model="agent.conciliation.standpoint" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告调解内容" class="width-100"></el-input>
            </p>
          </div>
        </div>
        <div title="被告" v-for="(accused, accusedIndex) in trial.verification.participator.accuseds" :key="accusedIndex + 'accused2'">
          <div title="诉讼主体" v-for="(subject, subjectIndex) in accused.subjects" :key="subjectIndex">
            <p>
              被{{subject.ordinal}}：
              <el-input v-model="subject.conciliation.standpoint" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告调解内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="责任人" v-for="(responsible, responsibleIndex) in accused.responsibles" :key="responsibleIndex">
            <p>
              被：
              <el-input v-model="responsible.conciliation.standpoint" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告调解内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="代理人" v-for="(agent, agentIndex) in accused.agents" :key="agentIndex">
            <p>
              被代<span v-if="accused.agents.length > 1">{{agentIndex+1}}</span>：
              <el-input v-model="agent.conciliation.standpoint" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告调解内容" class="width-100"></el-input>
            </p>
          </div>
        </div>
        <div title="第三人" v-for="(thirdparty, thirdpartyIndex) in trial.verification.participator.thirdparties" :key="thirdpartyIndex + 'thirdparty2'">
          <div title="诉讼主体" v-for="(subject, subjectIndex) in thirdparty.subjects" :key="subjectIndex">
            <p>
              第{{subject.ordinal}}：
              <el-input v-model="subject.conciliation.standpoint" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告调解内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="责任人" v-for="(responsible, responsibleIndex) in thirdparty.responsibles" :key="responsibleIndex">
            <p>
              第：
              <el-input v-model="responsible.conciliation.standpoint" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告调解内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="代理人" v-for="(agent, agentIndex) in thirdparty.agents" :key="agentIndex">
            <p>
              第代<span v-if="thirdparty.agents.length > 1">{{agentIndex+1}}</span>：
              <el-input v-model="agent.conciliation.standpoint" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告调解内容" class="width-100"></el-input>
            </p>
          </div>
        </div>
      </div>
      <!-- 有任意一人不同意调解时显示 -->
      <div v-if="!trial.conciliation.status">
        <p>审：鉴于
          <span v-for="(person, personIndex) in trial.conciliation.toMediateMan">
            <i>{{ person.type }}</i>
            <i>{{ person.name }}</i>
            <i v-if="trial.conciliation.toMediateMan.length > 1 && personIndex + 1 <  trial.conciliation.toMediateMan.length">、</i>
          </span>
          不同意调解，本庭不再当庭组织各方调解，但不影响各方庭下进行调解。
        </p>
        <div title="原告" v-for="(accuser, accuserIndex) in trial.verification.participator.accusers" :key="accuserIndex">
          <div title="诉讼主体" v-for="(subject, subjectIndex) in accuser.subjects" :key="subjectIndex">
            <p>
              原<span>{{ subject.ordinal }}</span>：
              <el-input v-model="subject.disagreeConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="责任人" v-for="(responsible, responsibleIndex) in accuser.responsibles" :key="responsibleIndex">
            <p>
              原：
              <el-input v-model="responsible.disagreeConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="代理人" v-for="(agent, agentIndex) in accuser.agents" :key="agentIndex">
            <p>
              原代<span v-if="accuser.agents.length > 1">{{agentIndex+1}}</span>：
              <el-input v-model="agent.disagreeConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
            </p>
          </div>
        </div>
        <div title="被告" v-for="(accused, accusedIndex) in trial.verification.participator.accuseds" :key="accusedIndex">
          <div title="诉讼主体" v-for="(subject, subjectIndex) in accused.subjects" :key="subjectIndex">
            <p>
              被<span>{{ subject.ordinal }}</span>：
              <el-input v-model="subject.disagreeConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="责任人" v-for="(responsible, responsibleIndex) in accused.responsibles" :key="responsibleIndex">
            <p>
              被：
              <el-input v-model="responsible.disagreeConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="代理人" v-for="(agent, agentIndex) in accused.agents" :key="agentIndex">
            <p>
              被代<span v-if="accused.agents.length > 1">{{agentIndex+1}}</span>：
              <el-input v-model="agent.disagreeConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
            </p>
          </div>
        </div>
        <div title="第三人" v-for="(thirdparty, thirdpartyIndex) in trial.verification.participator.thirdparties" :key="thirdpartyIndex">
          <div title="诉讼主体" v-for="(subject, subjectIndex) in thirdparty.subjects" :key="subjectIndex">
            <p>
              第<span>{{ subject.ordinal }}</span>：
              <el-input v-model="subject.disagreeConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="责任人" v-for="(responsible, responsibleIndex) in thirdparty.responsibles" :key="responsibleIndex">
            <p>
              第：
              <el-input v-model="responsible.disagreeConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
            </p>
          </div>
          <div title="代理人" v-for="(agent, agentIndex) in thirdparty.agents" :key="agentIndex">
            <p>
              第代<span v-if="thirdparty.agents.length > 1">{{agentIndex+1}}</span>：
              <el-input v-model="agent.disagreeConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
            </p>
          </div>
        </div>
      </div>
    </div>
    <!-- 如果存在部分缺席或全部缺席时：显示 -->
    <div v-if="((!trial.verification.other.defendantPartFlag && trial.verification.other.thirdPartFlag) || (trial.verification.other.defendantPartFlag && !trial.verification.other.thirdPartFlag)) || !trial.verification.other.attendanceFlag || trial.verification.other.defendantFlag || trial.verification.other.thirdFlag">
      <p>审：法庭辩论终结，应当依法作出判决，判决前能够调解的可以进行调解。鉴于本案
        <span v-for="(person, personIndex) in trial.verification.other.absentee">
          <i>{{ person.type }}</i>
          <i>{{ person.name }}</i>
          <i v-if="trial.verification.other.absentee.length > 1 && personIndex + 1 <  trial.verification.other.absentee.length">、</i>
        </span>
        未到庭参加诉讼，本庭不组织各方调解，但不影响各方庭下进行调解。
      </p>
      <div title="原告" v-for="(accuser, accuserIndex) in trial.verification.participator.accusers" :key="accuserIndex">
        <div title="诉讼主体" v-for="(subject, subjectIndex) in accuser.subjects" :key="subjectIndex">
          <p>
            原<span>{{ subject.ordinal }}</span>：
            <el-input v-model="subject.absenceConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
          </p>
        </div>
        <div title="责任人" v-for="(responsible, responsibleIndex) in accuser.responsibles" :key="responsibleIndex">
          <p>
            原：
            <el-input v-model="responsible.absenceConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
          </p>
        </div>
        <div title="代理人" v-for="(agent, agentIndex) in accuser.agents" :key="agentIndex">
          <p>
            原代<span v-if="accuser.agents.length > 1">{{agentIndex+1}}</span>：
            <el-input v-model="agent.absenceConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
          </p>
        </div>
      </div>
      <div title="被告" v-for="(accused, accusedIndex) in trial.verification.participator.accuseds" :key="accusedIndex">
        <div title="诉讼主体" v-for="(subject, subjectIndex) in accused.subjects" :key="subjectIndex">
          <p>
            被<span>{{ subject.ordinal }}</span>：
            <el-input v-model="subject.absenceConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
          </p>
        </div>
        <div title="责任人" v-for="(responsible, responsibleIndex) in accused.responsibles" :key="responsibleIndex">
          <p>
            被：
            <el-input v-model="responsible.absenceConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
          </p>
        </div>
        <div title="代理人" v-for="(agent, agentIndex) in accused.agents" :key="agentIndex">
          <p>
            被代<span v-if="accused.agents.length > 1">{{agentIndex+1}}</span>：
            <el-input v-model="agent.absenceConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
          </p>
        </div>
      </div>
      <div title="第三人" v-for="(thirdparty, thirdpartyIndex) in trial.verification.participator.thirdparties" :key="thirdpartyIndex">
        <div title="诉讼主体" v-for="(subject, subjectIndex) in thirdparty.subjects" :key="subjectIndex">
          <p>
            第<span>{{ subject.ordinal }}</span>：
            <el-input v-model="subject.absenceConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
          </p>
        </div>
        <div title="责任人" v-for="(responsible, responsibleIndex) in thirdparty.responsibles" :key="responsibleIndex">
          <p>
            第：
            <el-input v-model="responsible.absenceConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
          </p>
        </div>
        <div title="代理人" v-for="(agent, agentIndex) in thirdparty.agents" :key="agentIndex">
          <p>
            第代<span v-if="thirdparty.agents.length > 1">{{agentIndex+1}}</span>：
            <el-input v-model="agent.absenceConciliation.detail" type="textarea" :autosize="{minRows: 2}" placeholder="请输入原告异议内容" class="width-100"></el-input>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
